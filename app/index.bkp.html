<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>WeddingArNg</title>
    <base href="/">
    <!--  <meta name="viewport" content="width=device-width, initial-scale=1">-->
    <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
    <link rel="icon" type="image/x-icon" href="favicon.ico">
<!--    <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>-->
    <script src="https://aframe.io/releases/1.3.0/aframe.min.js"></script>
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>

    <script>
        AFRAME.registerComponent('look-at', {
            schema: { type: 'selector' },

            init: function () {
                console.log('hello');
            },

            tick: function () {
                this.el.object3D.lookAt(this.data.object3D.position)
            }
        })
    </script>
</head>

<body>
    <a-scene embedded arjs>
        <a-assets>
            <a-asset-item id="table-obj" src="assets/models/table.obj"></a-asset-item>
            <a-asset-item id="table-mtl" src="assets/models/table.mtl"></a-asset-item>
            <a-asset-item id="cake-obj" src="assets/models/cake.obj"></a-asset-item>
            <a-asset-item id="cake-mtl" src="assets/models/cake.mtl"></a-asset-item>
        </a-assets>

        <a-marker preset="custom" type="pattern" url="assets/markers/pattern-table1-marker.patt">
            <!-- we use cors proxy to avoid cross-origin problems ATTENTION! you need to set up your server -->
            <a-entity
                    position="0 0.2 0"
                    scale="0.0005 0.0005 0.0005"
                    obj-model="obj: #cake-obj; mtl: #cake-mtl">
            </a-entity>

            <a-entity
                    position="0 0 0"
                    scale="0.2 0.2 0.2"
                    gltf-model="assets/models/table.gltf">
            </a-entity>

            <a-entity text="value: EVVIVA" look-at="[camera]" rotation="0 90 0" geometry="primitive:plane"></a-entity>
        </a-marker>

        <a-marker preset="hiro" type="pattern" url="assets/markers/pattern-table2-marker.patt">
            <!-- we use cors proxy to avoid cross-origin problems ATTENTION! you need to set up your server -->
            <a-entity
                    position="0 0.1 0"
                    scale="0.0005 0.0005 0.0005"
                    obj-model="obj: #cake-obj; mtl: #cake-mtl">
            </a-entity>

            <a-entity
                    position="0 0 0"
                    scale="0.2 0.2 0.2"
                    gltf-model="assets/models/table.gltf">
            </a-entity>

            <a-text value="Mamma\nPapÃ " look-at="[camera]" rotation="0 0 0" position="0.5 0 0.5" geometry="primitive:plane"></a-text>

        </a-marker>

        <!--  <a-marker preset="hiro">-->
        <!--    &lt;!&ndash; we use cors proxy to avoid cross-origin problems ATTENTION! you need to set up your server &ndash;&gt;-->
        <!--    <a-entity-->
        <!--      position="0 0 0"-->
        <!--      scale="0.005 0.005 0.005"-->
        <!--      gltf-model="assets/models/mario.gltf">-->
        <!--    </a-entity>-->

        <!--    <a-sphere-->
        <!--      color="green"-->
        <!--      look-at="[gps-camera]"-->
        <!--      scale="0.49205916205718183 0.49205916205718183 0.49205916205718183">-->
        <!--    </a-sphere>-->
        <!--  </a-marker>-->

        <!--  https://stackoverflow.com/questions/66098870/aframe-rotating-text-->
<!--        <a-sphere-->
<!--                color="green"-->
<!--                look-at="[gps-camera]"-->
<!--                scale="0.49205916205718183 0.49205916205718183 0.49205916205718183"-->
<!--                gps-entity-place="latitude: 45.193352; longitude: 10,802935;">-->
<!--        </a-sphere>-->

        <a-entity camera gps-projected-camera></a-entity>
    </a-scene>
</body>
</html>
